
<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Calculatrice Déménagement – Transport Colivex</title>
<style>
body { font-family: Arial, sans-serif; background:#eef2f7; margin:0; padding:20px; }
.container { max-width:440px; margin:auto; background:#ffffff; padding:20px; border-radius:14px; box-shadow:0 6px 14px rgba(0,0,0,.12); border-top:6px solid #c1121f; }
.header { text-align:center; margin-bottom:10px; }
.logo {
  font-size:22px;
  font-weight:bold;
  color:#1f4e79;
}
.logo span { color:#c1121f; }
.subtitle { font-size:13px; color:#555; }

label { font-weight:bold; margin-top:12px; display:block; color:#1f4e79; }
input, select { width:100%; padding:10px; font-size:16px; margin-top:5px; border-radius:8px; border:1px solid #ccc; }
button { width:100%; padding:14px; font-size:18px; background:#c1121f; color:#fff; border:none; border-radius:10px; margin-top:20px; }
button:hover { background:#a50f19; }
.toggle { background:#1f4e79; color:#fff; padding:12px; border-radius:10px; font-weight:bold; margin-top:15px; cursor:pointer; text-align:center; }
.extras { display:none; margin-top:10px; }

.result { margin-top:20px; padding:15px; background:#f1f7ff; border-radius:10px; font-size:16px; border-left:5px solid #1f4e79; }
.total { font-size:18px; font-weight:bold; color:#c1121f; margin-top:8px; }
.line { display:flex; justify-content:space-between; gap:12px; }

.small { font-size:12px; color:#555; margin-top:10px; text-align:center; }
hr { border:none; border-top:1px solid #ddd; margin:16px 0; }
</style>
</head>
<body>
<div class="container">

<div class="header">
  <div class="logo">Transport <span>Colivex</span></div>
  <div class="subtitle">Calculatrice terrain – avant contrat</div>
</div>

<label>Tarif horaire ($)</label>
<input type="number" id="rate" value="155">

<label>Heures travaillées</label>
<input type="number" id="hours" value="3">

Salim Bentriou <info@transportcolivex.com>
14 h 32 (il y a 1 minute)
à moi
<!-- Heures -->
<label>Heure d’arrivée</label>
<input type="time" id="heureArrivee">

<label>Heure de départ</label>
<input type="time" id="heureDepart">


</select>

<div class="line">
<span>Heures travaillées</span>
<strong id="heuresTravail">0.00 h</strong>
</div>

<div class="line">
<span>Heures facturables (travail + transport)</span>
<strong id="heuresFacturables">0.00 h</strong>
</div><!-- Heures -->


<label>Frais de transport (heures)</label>

<option value="0">0 h</option>
<option value="0.5">0.5 h</option>
<option value="1" selected>1 h</option>
<option value="1.5">1.5 h</option>
<option value="2">2 h</option>
</select>

<div class="line">
<span>Heures travaillées</span>
<strong id="heuresTravail">0.00 h</strong>
</div>

<div class="line">
<span>Heures facturables (travail + transport)</span>
<strong id="heuresFacturables">0.00 h</strong>
</div>
<label>Minimum d'heures</label>
<input type="number" id="minHours" value="3">

<label>Transport (heures)</label>
<input type="number" id="travel" value="1">

<div class="toggle" onclick="toggleExtras()">➕ AJOUTER DES EXTRAS</div>

<div class="extras" id="extras">
  <label>Sac à matelas (10 $)</label>
  <select id="mattress"><option>0</option><option>1</option><option>2</option><option>3</option><option>4</option></select>

  <label>Ruban / Tape (2,50 $)</label>
  <select id="tape"><option>0</option><option>1</option><option>2</option><option>3</option><option>4</option></select>

  <label>Boîte garde-robe (20 $)</label>
  <select id="wardrobe"><option>0</option><option>1</option><option>2</option><option>3</option><option>4</option></select>

  <label>Boîte TV (50 $)</label>
  <select id="tvbox"><option>0</option><option>1</option><option>2</option></select>

  <label>Autre extra ($)</label>
  <input type="number" id="other" value="0">
</div>

<label>Dépôt payé (tx incl.)</label>
<input type="number" id="deposit" value="250">

<button onclick="calculer()">CALCULER</button>

<div class="result" id="result"></div>

<div class="small">
Heures facturées = max(heures, minimum + transport)<br>
TPS 5 % • TVQ 9,975 % • Dépôt taxes incluses
</div>

</div>

<script>
const arrivee = document.getElementById("heureArrivee");
const depart = document.getElementById("heureDepart");
const transport = document.getElementById("transportHeures");

// Affichages (TES ids)
const outTravail = document.getElementById("heuresTravail");
const outFact = document.getElementById("heuresFacturables");

// ✅ IMPORTANT: mets ici l'id du champ où tu entres "Heures travaillées" (le input 3)
const champHeuresInput = document.getElementById("heures"); // <- change si besoin

function timeToMinutes(t) {
if (!t) return null;
const [h, m] = t.split(":").map(Number);
return h * 60 + m;
}

function roundQuarter(h) {
return Math.round(h * 4) / 4; // quart d'heure
}

function calculHeuresAuto() {
const a = timeToMinutes(arrivee.value);
const d = timeToMinutes(depart.value);

if (a === null || d === null) return;

let minutes = d - a;
if (minutes < 0) minutes += 1440; // passe minuit

const heuresTravail = roundQuarter(minutes / 60);
const hTransport = parseFloat(transport.value || "0");
const heuresFact = heuresTravail + hTransport;

// Affichage
if (outTravail) outTravail.textContent = heuresTravail.toFixed(2) + " h";
if (outFact) outFact.textContent = heuresFact.toFixed(2) + " h";

// Remplit le champ heures utilisé pour le total $
if (champHeuresInput) champHeuresInput.value = heuresFact.toFixed(2);

// Relance ton calcul total si la fonction existe
if (typeof calculerTotal === "function") calculerTotal();
}

arrivee.addEventListener("change", calculHeuresAuto);
depart.addEventListener("change", calculHeuresAuto);
transport.addEventListener("change", calculHeuresAuto);</script>
</body>
</html>
