<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Calculatrice Colivex</title>

  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f5f7fb;
      margin: 0;
      padding: 15px;
    }

    .container {
      max-width: 420px;
      margin: auto;
      background: white;
      padding: 20px;
      border-radius: 12px;
      box-shadow: 0 0 12px rgba(0,0,0,0.1);
    }

    h1 {
      text-align: center;
      color: #c4001a;
      margin-bottom: 5px;
    }

    h2 {
      text-align: center;
      color: #003b8e;
      margin-top: 0;
      font-size: 16px;
    }

    label {
      display: block;
      margin-top: 12px;
      font-weight: bold;
    }

    input, select, button {
      width: 100%;
      padding: 10px;
      margin-top: 6px;
      font-size: 16px;
      border-radius: 6px;
      border: 1px solid #ccc;
    }

    button {
      background: #003b8e;
      color: white;
      border: none;
      margin-top: 12px;
    }

    .add-btn {
      background: #c4001a;
    }

    .extras-list {
      margin-top: 10px;
      background: #f1f1f1;
      padding: 10px;
      border-radius: 6px;
    }

    .extra-item {
      display: flex;
      justify-content: space-between;
      font-size: 14px;
      margin-bottom: 5px;
    }

    .total {
      margin-top: 15px;
      padding: 12px;
      background: #003b8e;
      color: white;
      border-radius: 8px;
      font-size: 18px;
      text-align: center;
    }
  </style>
</head>

<body>
  <div class="container">
    <h1>Transport Colivex</h1>
    <h2>Calculatrice de facture</h2>

    <label>Tarif horaire ($)</label>
    <input type="number" id="rate" value="145" />

    <label>Heures travaillées</label>
    <input type="number" id="hours" step="0.25" placeholder="ex: 6.5" />

    <label>Frais de transport (1h)</label>
    <input type="number" id="transport" value="145" />

    <label>Dépôt reçu (taxes incluses)</label>
    <input type="number" id="deposit" value="250" />

    <hr>

    <label>Extras</label>
    <select id="extraSelect">
      <option value="10">Sac à matelas – 10 $</option>
      <option value="2.5">Tape – 2.50 $</option>
      <option value="20">Boîte garde-robe – 20 $</option>
      <option value="50">Boîte TV – 50 $</option>
      <option value="0">Autre extra – 0 $</option>
    </select>

    <label>Quantité</label>
    <input type="number" id="extraQty" value="1" />

    <button class="add-btn" onclick="addExtra()">Ajouter l’extra</button>

    <div class="extras-list" id="extrasList"></div>

    <button onclick="calculate()">Calculer total</button>

    <div class="total" id="result">Total : 0 $</div>
  </div>

<script>
  let extras = [];

  function addExtra() {
    const select = document.getElementById("extraSelect");
    const price = parseFloat(select.value);
    const name = select.options[select.selectedIndex].text;
    const qty = parseInt(document.getElementById("extraQty").value);

    if (qty <= 0) return;

    extras.push({ name, price, qty });
    renderExtras();
  }

  function renderExtras() {
    const list = document.getElementById("extrasList");
    list.innerHTML = "";
    extras.forEach(e => {
      const div = document.createElement("div");
      div.className = "extra-item";
      div.innerHTML = `${e.qty} x ${e.name} = ${(e.price * e.qty).toFixed(2)} $`;
      list.appendChild(div);
    });
  }

  function calculate() {
    const rate = parseFloat(document.getElementById("rate").value);
    const hours = parseFloat(document.getElementById("hours").value);
    const transport = parseFloat(document.getElementById("transport").value);
    const deposit = parseFloat(document.getElementById("deposit").value);

    let subtotal = (rate * hours) + transport;

    extras.forEach(e => {
      subtotal += e.price * e.qty;
    });

    const tps = subtotal * 0.05;
    const tvq = subtotal * 0.09975;

    let total = subtotal + tps + tvq - deposit;

    document.getElementById("result").innerText =
      `Total à payer : ${total.toFixed(2)} $`;
  }
</script>

</body>
</html>